      # ---------------------------------------------------------------------
      # GLOBAL CONFIGURATION
      # ---------------------------------------------------------------------
      global
          log /dev/log    len 4096 local0
          # Define the user and group HAProxy runs as
          user haproxy
          group haproxy
          # Set the maximum number of concurrent connections
          maxconn 2000

      # ---------------------------------------------------------------------
      # FRONTEND (Listens for incoming SMTP connections)
      # ---------------------------------------------------------------------
      frontend fe_smtp
          # Use TCP mode for SMTP
          mode tcp
          # Listen on the standard SMTP port (25) on all interfaces
          bind *:587
          # Default action is to forward traffic to the backend mail servers
          default_backend be_smtp_servers

      # ---------------------------------------------------------------------
      # BACKEND (Defines the actual mail servers)
      # ---------------------------------------------------------------------
      backend be_smtp_servers
          # Use TCP mode
          mode tcp
          # Use a simple round-robin load balancing algorithm
          balance roundrobin
          # Connection timeout should be generous for SMTP
          timeout connect 5s
          timeout server 50s

          # Define your mail server(s) here.
          # Replace the IP addresses/names with your actual backend servers.
          server mail_server_1 localhost:25 check send-proxy
          # Add more servers as needed
